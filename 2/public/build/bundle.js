var app=function(){"use strict";function t(){}function n(t){return t()}function e(){return Object.create(null)}function r(t){t.forEach(n)}function o(t){return"function"==typeof t}function c(t,n){return t!=t?n==n:t!==n||t&&"object"==typeof t||"function"==typeof t}function u(n,e,r){n.$$.on_destroy.push(function(n,...e){if(null==n)return t;const r=n.subscribe(...e);return r.unsubscribe?()=>r.unsubscribe():r}(e,r))}function l(t,n){t.appendChild(n)}function s(t,n,e){t.insertBefore(n,e||null)}function a(t){t.parentNode.removeChild(t)}function i(t){return document.createElement(t)}function f(t){return document.createTextNode(t)}function d(){return f(" ")}function p(){return f("")}function h(t,n,e,r){return t.addEventListener(n,e,r),()=>t.removeEventListener(n,e,r)}function m(t,n,e){null==e?t.removeAttribute(n):t.getAttribute(n)!==e&&t.setAttribute(n,e)}function $(t,n){n=""+n,t.wholeText!==n&&(t.data=n)}function b(t,n){t.value=null==n?"":n}let g;function v(t){g=t}function x(){if(!g)throw new Error("Function called outside component initialization");return g}const k=[],y=[],_=[],w=[],C=Promise.resolve();let E=!1;function j(t){_.push(t)}const S=new Set;let L=0;function N(){const t=g;do{for(;L<k.length;){const t=k[L];L++,v(t),U(t.$$)}for(v(null),k.length=0,L=0;y.length;)y.pop()();for(let t=0;t<_.length;t+=1){const n=_[t];S.has(n)||(S.add(n),n())}_.length=0}while(k.length);for(;w.length;)w.pop()();E=!1,S.clear(),v(t)}function U(t){if(null!==t.fragment){t.update(),r(t.before_update);const n=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,n),t.after_update.forEach(j)}}const A=new Set;let D;function O(){D={r:0,c:[],p:D}}function R(){D.r||r(D.c),D=D.p}function T(t,n){t&&t.i&&(A.delete(t),t.i(n))}function z(t,n,e,r){if(t&&t.o){if(A.has(t))return;A.add(t),D.c.push((()=>{A.delete(t),r&&(e&&t.d(1),r())})),t.o(n)}}function P(t,n){const e=n.token={};function r(t,r,o,c){if(n.token!==e)return;n.resolved=c;let u=n.ctx;void 0!==o&&(u=u.slice(),u[o]=c);const l=t&&(n.current=t)(u);let s=!1;n.block&&(n.blocks?n.blocks.forEach(((t,e)=>{e!==r&&t&&(O(),z(t,1,1,(()=>{n.blocks[e]===t&&(n.blocks[e]=null)})),R())})):n.block.d(1),l.c(),T(l,1),l.m(n.mount(),n.anchor),s=!0),n.block=l,n.blocks&&(n.blocks[r]=l),s&&N()}if((o=t)&&"object"==typeof o&&"function"==typeof o.then){const e=x();if(t.then((t=>{v(e),r(n.then,1,n.value,t),v(null)}),(t=>{if(v(e),r(n.catch,2,n.error,t),v(null),!n.hasCatch)throw t})),n.current!==n.pending)return r(n.pending,0),!0}else{if(n.current!==n.then)return r(n.then,1,n.value,t),!0;n.resolved=t}var o}function F(t){t&&t.c()}function I(t,e,c,u){const{fragment:l,on_mount:s,on_destroy:a,after_update:i}=t.$$;l&&l.m(e,c),u||j((()=>{const e=s.map(n).filter(o);a?a.push(...e):r(e),t.$$.on_mount=[]})),i.forEach(j)}function M(t,n){const e=t.$$;null!==e.fragment&&(r(e.on_destroy),e.fragment&&e.fragment.d(n),e.on_destroy=e.fragment=null,e.ctx=[])}function q(t,n){-1===t.$$.dirty[0]&&(k.push(t),E||(E=!0,C.then(N)),t.$$.dirty.fill(0)),t.$$.dirty[n/31|0]|=1<<n%31}function B(n,o,c,u,l,s,i,f=[-1]){const d=g;v(n);const p=n.$$={fragment:null,ctx:null,props:s,update:t,not_equal:l,bound:e(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(o.context||(d?d.$$.context:[])),callbacks:e(),dirty:f,skip_bound:!1,root:o.target||d.$$.root};i&&i(p.root);let h=!1;if(p.ctx=c?c(n,o.props||{},((t,e,...r)=>{const o=r.length?r[0]:e;return p.ctx&&l(p.ctx[t],p.ctx[t]=o)&&(!p.skip_bound&&p.bound[t]&&p.bound[t](o),h&&q(n,t)),e})):[],p.update(),h=!0,r(p.before_update),p.fragment=!!u&&u(p.ctx),o.target){if(o.hydrate){const t=function(t){return Array.from(t.childNodes)}(o.target);p.fragment&&p.fragment.l(t),t.forEach(a)}else p.fragment&&p.fragment.c();o.intro&&T(n.$$.fragment),I(n,o.target,o.anchor,o.customElement),N()}v(d)}class J{$destroy(){M(this,1),this.$destroy=t}$on(t,n){const e=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return e.push(n),()=>{const t=e.indexOf(n);-1!==t&&e.splice(t,1)}}$set(t){var n;this.$$set&&(n=t,0!==Object.keys(n).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const W=[];const G=function(n){const{subscribe:e,set:r}=function(n,e=t){let r;const o=new Set;function u(t){if(c(n,t)&&(n=t,r)){const t=!W.length;for(const t of o)t[1](),W.push(t,n);if(t){for(let t=0;t<W.length;t+=2)W[t][0](W[t+1]);W.length=0}}}return{set:u,update:function(t){u(t(n))},subscribe:function(c,l=t){const s=[c,l];return o.add(s),1===o.size&&(r=e(u)||t),c(n),()=>{o.delete(s),0===o.size&&(r(),r=null)}}}}(n);return{subscribe:e,set:r,fetchSnapshot(t){const n=`https://archive.org/wayback/available?url=${t}`,e=fetch(n).then((t=>t.json())).catch((t=>{throw new Error(t)}));r({input:n,data:e})},reset(){r(n)}}}({input:"",data:{}});function H(n){let e,o,c,u,f,p;return{c(){e=i("form"),o=i("input"),c=d(),u=i("button"),u.textContent="アーカイブを検索",m(o,"type","url"),m(o,"placeholder","https://example.com"),m(o,"class","svelte-hx4jx6"),m(u,"class","svelte-hx4jx6")},m(t,r){var a;s(t,e,r),l(e,o),b(o,n[0]),l(e,c),l(e,u),f||(p=[h(o,"input",n[2]),h(e,"submit",(a=n[1],function(t){return t.preventDefault(),a.call(this,t)}))],f=!0)},p(t,[n]){1&n&&b(o,t[0])},i:t,o:t,d(t){t&&a(e),f=!1,r(p)}}}function K(t,n,e){let r="";return[r,function(){const t=r.trim();t?G.fetchSnapshot(t):G.reset()},function(){r=this.value,e(0,r)}]}class Q extends J{constructor(t){super(),B(this,t,K,H,c,{})}}function V(t){let n;return{c(){n=f("スナップショットが見つかりませんでした")},m(t,e){s(t,n,e)},d(t){t&&a(n)}}}function X(t){let n;return{c(){n=f("スナップショットが見つかりました！")},m(t,e){s(t,n,e)},d(t){t&&a(n)}}}function Y(t){let n,e,r,o,c,u,d,p,h=nt(t[2].timestamp)+"",b=t[2].url+"";return{c(){n=i("dt"),n.textContent="最新スナップショット日時",e=i("dd"),r=f(h),o=i("dt"),o.textContent="最新スナップショットURL",c=i("dd"),u=i("a"),d=f(b),m(n,"class","svelte-5md97p"),m(e,"class","svelte-5md97p"),m(o,"class","svelte-5md97p"),m(u,"href",p=t[2].url),m(u,"target","_blank"),m(u,"rel","noopener"),m(c,"class","svelte-5md97p")},m(t,a){s(t,n,a),s(t,e,a),l(e,r),s(t,o,a),s(t,c,a),l(c,u),l(u,d)},p(t,n){4&n&&h!==(h=nt(t[2].timestamp)+"")&&$(r,h),4&n&&b!==(b=t[2].url+"")&&$(d,b),4&n&&p!==(p=t[2].url)&&m(u,"href",p)},d(t){t&&a(n),t&&a(e),t&&a(o),t&&a(c)}}}function Z(t){let n;return{c(){n=i("p"),n.textContent="違うURLを試してみてください。"},m(t,e){s(t,n,e)},d(t){t&&a(n)}}}function tt(n){let e,r,o,c,u,h,b,g,v,x,k,y=n[0].url+"";function _(t,n){return t[1]?X:V}let w=_(n),C=w(n),E=n[1]&&Y(n),j=!n[1]&&Z();return{c(){e=i("h2"),C.c(),r=d(),o=i("dl"),c=i("dt"),c.textContent="対象URL",u=i("dd"),h=i("a"),b=f(y),v=d(),E&&E.c(),x=d(),j&&j.c(),k=p(),m(c,"class","svelte-5md97p"),m(h,"href",g=n[0].url),m(h,"target","_blank"),m(h,"rel","noopener"),m(u,"class","svelte-5md97p")},m(t,n){s(t,e,n),C.m(e,null),s(t,r,n),s(t,o,n),l(o,c),l(o,u),l(u,h),l(h,b),l(u,v),E&&E.m(o,null),s(t,x,n),j&&j.m(t,n),s(t,k,n)},p(t,[n]){w!==(w=_(t))&&(C.d(1),C=w(t),C&&(C.c(),C.m(e,null))),1&n&&y!==(y=t[0].url+"")&&$(b,y),1&n&&g!==(g=t[0].url)&&m(h,"href",g),t[1]?E?E.p(t,n):(E=Y(t),E.c(),E.m(o,null)):E&&(E.d(1),E=null),t[1]?j&&(j.d(1),j=null):j||(j=Z(),j.c(),j.m(k.parentNode,k))},i:t,o:t,d(t){t&&a(e),C.d(),t&&a(r),t&&a(o),E&&E.d(),t&&a(x),j&&j.d(t),t&&a(k)}}}function nt(t){const n=function(t){const n=[4,2,2,2,2,2].reduce(((n,e,r)=>{const o=t.slice(n.accumulator,n.accumulator+e),c=parseInt(o),u=1===r?c-1:c;return n.params.push(u),n.accumulator=n.accumulator+e,n}),{params:[],accumulator:0});return new Date(Date.UTC(...n.params))}(t);return new Intl.DateTimeFormat("ja-JP",{dateStyle:"medium",timeStyle:"long"}).format(n)}function et(t,n,e){let r,o,{data:c={archived_snapshots:{},url:""}}=n;return t.$$set=t=>{"data"in t&&e(0,c=t.data)},t.$$.update=()=>{1&t.$$.dirty&&e(1,r=c.archived_snapshots.hasOwnProperty("closest")),3&t.$$.dirty&&e(2,o=r?c.archived_snapshots.closest:null)},[c,r,o]}class rt extends J{constructor(t){super(),B(this,t,et,tt,c,{data:0})}}function ot(n){let e;return{c(){e=i("p"),e.textContent="フォームにURLを入力してください。"},m(t,n){s(t,e,n)},p:t,i:t,o:t,d(t){t&&a(e)}}}function ct(t){let n,e,r,o={ctx:t,current:null,token:null,hasCatch:!0,pending:st,then:lt,catch:ut,value:1,error:2,blocks:[,,,]};return P(e=t[0].data,o),{c(){n=p(),o.block.c()},m(t,e){s(t,n,e),o.block.m(t,o.anchor=e),o.mount=()=>n.parentNode,o.anchor=n,r=!0},p(n,r){t=n,o.ctx=t,1&r&&e!==(e=t[0].data)&&P(e,o)||function(t,n,e){const r=n.slice(),{resolved:o}=t;t.current===t.then&&(r[t.value]=o),t.current===t.catch&&(r[t.error]=o),t.block.p(r,e)}(o,t,r)},i(t){r||(T(o.block),r=!0)},o(t){for(let t=0;t<3;t+=1){z(o.blocks[t])}r=!1},d(t){t&&a(n),o.block.d(t),o.token=null,o=null}}}function ut(n){let e,r,o,c,u=n[2]+"";return{c(){e=i("h2"),e.textContent="エラーが発生しました。",r=d(),o=i("p"),c=f(u)},m(t,n){s(t,e,n),s(t,r,n),s(t,o,n),l(o,c)},p(t,n){1&n&&u!==(u=t[2]+"")&&$(c,u)},i:t,o:t,d(t){t&&a(e),t&&a(r),t&&a(o)}}}function lt(t){let n,e;return n=new rt({props:{data:t[1]}}),{c(){F(n.$$.fragment)},m(t,r){I(n,t,r),e=!0},p(t,e){const r={};1&e&&(r.data=t[1]),n.$set(r)},i(t){e||(T(n.$$.fragment,t),e=!0)},o(t){z(n.$$.fragment,t),e=!1},d(t){M(n,t)}}}function st(n){let e;return{c(){e=i("p"),e.textContent="データ取得中……"},m(t,n){s(t,e,n)},p:t,i:t,o:t,d(t){t&&a(e)}}}function at(t){let n,e,r,o;const c=[ct,ot],u=[];function l(t,n){return t[0].input?0:1}return n=l(t),e=u[n]=c[n](t),{c(){e.c(),r=p()},m(t,e){u[n].m(t,e),s(t,r,e),o=!0},p(t,[o]){let s=n;n=l(t),n===s?u[n].p(t,o):(O(),z(u[s],1,1,(()=>{u[s]=null})),R(),e=u[n],e?e.p(t,o):(e=u[n]=c[n](t),e.c()),T(e,1),e.m(r.parentNode,r))},i(t){o||(T(e),o=!0)},o(t){z(e),o=!1},d(t){u[n].d(t),t&&a(r)}}}function it(t,n,e){let r;return u(t,G,(t=>e(0,r=t))),[r]}class ft extends J{constructor(t){super(),B(this,t,it,at,c,{})}}function dt(n){let e,r,o,c,u,f,p,h;return u=new Q({}),p=new ft({}),{c(){e=i("div"),r=i("h1"),r.textContent="Wayback Machineアーカイブチェック",o=d(),c=i("div"),F(u.$$.fragment),f=d(),F(p.$$.fragment),m(r,"class","heading svelte-1p3jrdl"),m(c,"class","body"),m(e,"class","app svelte-1p3jrdl")},m(t,n){s(t,e,n),l(e,r),l(e,o),l(e,c),I(u,c,null),l(c,f),I(p,c,null),h=!0},p:t,i(t){h||(T(u.$$.fragment,t),T(p.$$.fragment,t),h=!0)},o(t){z(u.$$.fragment,t),z(p.$$.fragment,t),h=!1},d(t){t&&a(e),M(u),M(p)}}}return new class extends J{constructor(t){super(),B(this,t,null,dt,c,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
